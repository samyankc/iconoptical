<!DOCTYPE html>

<html>

<head>
    <title>HCV Referral</title>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, user-scalable=0">
    <script src="JS/jquery-3.6.4.min.js"></script>
</head>

<body>
    <div id="mydisplay">this is the display area</div>
    <button id="mybutton">click me</button>
</body>
<script>
    var ActionURL = "https://script.google.com/macros/s/AKfycbwH9tbFeM4hXR5gFAAT-fkuKrU7tZW0dJ9Qh0JMrpTXpPjICpEKZRgynacMcYnNMrpMFg/exec"

    function ReadTable() {
        return $.get(ActionURL, { action: 'read' })
    }

    $('#mybutton').on('click', () => {
        var newContent = "<div>Getting Response</div>";
        ReadTable()
            .fail(() => { $("#mydisplay").html('Fail'); })
            .done((Table) => {
                for (const Row in Table) {
                    $('#mydisplay').html
                    newContent += `<div>${Table[Row]}</div>`
                    console.log(Table[Row])
                }
                $("#mydisplay").html(newContent);
            })
    })

</script>

</html>